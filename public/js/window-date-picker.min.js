/*!
* Window Date Picker
* version: 1.0.1
*  author: Cevad Tokatli <cevadtokatli@hotmail.com>
* website: http://cevadtokatli.com
*  github: https://github.com/cevadtokatli/window-date-picker
* license: MIT
*/
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.WindowDatePicker=t()}(this,function(){"use strict";function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function t(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}function d(s){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{},t=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),t.forEach(function(e){var t,i,n;t=s,n=a[i=e],i in t?Object.defineProperty(t,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[i]=n})}return s}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=[],n=!0,s=!1,a=void 0;try{for(var r,h=e[Symbol.iterator]();!(n=(r=h.next()).done)&&(i.push(r.value),!t||i.length!==t);n=!0);}catch(e){s=!0,a=e}finally{try{n||null==h.return||h.return()}finally{if(s)throw a}}return i}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var w=function(){function e(){l(this,e)}return t(e,null,[{key:"getElement",value:function(e){return"string"==typeof e?document.querySelector(e):e}},{key:"createEvent",value:function(e){var t=document.createEvent("HTMLEvents")||document.createEvent("event");return t.initEvent(e,!1,!0),t}},{key:"addEventListener",value:function(e,t,i){for(var n in t)e.addEventListener(t[n],i,!0)}},{key:"removeEventListener",value:function(e,t,i){for(var n in t)e.removeEventListener(t[n],i,!0)}},{key:"addEventListenerOnce",value:function(i,n,s){var a=this;this.addEventListener(i,n,function e(t){a.removeEventListener(i,n,e),s(t)})}},{key:"addClass",value:function(e,t){e.classList?e.classList.add(t):e.setAttribute("class","".concat(e.getAttribute("class")," ").concat(t))}},{key:"removeClass",value:function(e,t){e.classList?e.classList.remove(t):e.setAttribute("class",e.getAttribute("class").replace(t," "))}},{key:"contains",value:function(e,t){if(e.contains)return e.contains(t);for(;t=t.parentNode;)if(t===e)return!0;return!1}},{key:"isMobile",value:function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}},{key:"renderNumber",value:function(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:2,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"0",n=e.toString();n.length<t;)n=i+n;return n}},{key:"getDayCount",value:function(e,t){switch(e){case 1:case 3:case 5:case 7:case 8:case 10:case 12:return 31;case 4:case 6:case 9:case 11:return 30;case 2:return this.isLeapYear(t)?29:28}}},{key:"isLeapYear",value:function(e){return e%4==0}},{key:"getStartEndYear",value:function(e){for(var t=e;t%10!=0;)t-=1;return{start:t,end:t+10}}}]),e}();w.MOUSE_DOWN=w.isMobile()?"touchstart":"mousedown",w.MOUSE_MOVE=w.isMobile()?"touchmove":"mousemove",w.MOUSE_UP=w.isMobile()?"touchend":"mouseup",w.ANIMATION_END=["webkitAnimationEnd","mozAnimationEnd","oAnimationEnd","MSAnimationEnd","animationend"],w.TRANSITION_END=["webkitTransitionEnd","oTransitionEnd","otransitionend","MSTransitionEnd","transitionend"],w.WHEEL_EVENTS=["wheel","mousewheel","DOMMouseScroll"];var v="DATE",p="HOUR",y="DATEHOUR",g="DD/MM/YYYY",m="12",o="MONTH",u="YEAR",f="YEAR_RANGE",E=[v,p,y],M=[g,"MM/DD/YYYY"],L=[m,"24"],A={value:null,el:null,inputEl:null,toggleEl:null,type:v,dateType:g,hourType:m,allowEmpty:!0,showButtons:!1,inputToggle:!1,lang:"en",orientation:!1,showArrowButtons:!1},a=w.createEvent("wdp.change"),i=w.createEvent("wdp.open"),e=w.createEvent("wdp.close"),s=w.createEvent("wdp.save"),r=w.createEvent("wdp.cancel"),D=w.createEvent("wdp.destroy"),h=function(){function h(e){var t=this;l(this,h);var i=this.extractAttributes(e);if(!(this.el=w.getElement(i.el)))throw new Error("Element could not be found");if(i.inputEl&&(!(this.inputEl=w.getElement(i.inputEl))||"INPUT"!=this.inputEl.nodeName))throw new Error("Input element could not be found");if(i.toggleEl&&!(this.toggleEl=w.getElement(i.toggleEl)))throw new Error("Toggle element could not be found");if(this.LANG=h.LANG[i.lang],w.isMobile()&&this.el.classList.add("wdp-mobile"),this.parentEl=this.el.parentNode,this.type=-1!==E.indexOf(i.type)?i.type:A.type,this.dateType=-1!==M.indexOf(i.dateType)?i.dateType:A.dateType,this.hourType=-1!==L.indexOf(i.hourType)?i.hourType:A.hourType,this.allowEmpty=i.allowEmpty,this.showArrowButtons=i.showArrowButtons,this.orientation=!!i.showArrowButtons||i.orientation,null!=i.value&&""!=i.value||!i.allowEmpty?(this.value=this.setValue(i.value||new Date),(void 0!==this.value.day&&isNaN(this.value.day)||void 0!==this.value.hour&&isNaN(this.value.hour))&&this.setInvalidValue()):this.setEmptyValue(),this.initialValue=d({},this.value),this.els={},this.el.classList.add("wdp"),this.el.innerHTML='\n            <div class="wdp-container">\n                <div class="wdp-header">\n                    <span></span>\n                    <div>\n                        <div></div>\n                        <div>\n                            <svg width="16" height="16" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1490 1322q0 40-28 68l-136 136q-28 28-68 28t-68-28l-294-294-294 294q-28 28-68 28t-68-28l-136-136q-28-28-28-68t28-68l294-294-294-294q-28-28-28-68t28-68l136-136q28-28 68-28t68 28l294 294 294-294q28-28 68-28t68 28l136 136q28 28 28 68t-28 68l-294 294 294 294q28 28 28 68z"></path></svg>\n                        </div>\n                    </div>\n                </div>\n                <div class="wdp-body"></div>\n            </div>\n        ',this.els.container=this.el.querySelector(".wdp-container"),this.els.span=this.el.querySelector(".wdp-header span"),this.setSpanText(),this.els.cross=this.el.querySelector(".wdp-header > div > div:last-child svg"),this.els.body=this.el.querySelector(".wdp-body"),this.type!=p){if(this.page=v,this.datePage=o,0<this.value.month)this.tmpValue={month:this.value.month,year:this.value.year};else{var n=new Date;this.tmpValue={month:n.getMonth()+1,year:n.getFullYear()}}this.tmpYearValue={},this.tmpYearRangeValue={},this.els.body.innerHTML='\n                <div class="wdp-date-container">\n                    <div class="wdp-date-header">\n                        <span></span>\n                        <div>\n                            <div>\n                                '.concat(this.renderUpIcon(),"\n                            </div>\n                            <div>\n                                ").concat(this.renderDownIcon(),'\n                            </div>\n                        </div>\n                    </div>\n                    <div class="wdp-date-body">\n                        <div class="wdp-week-container">\n                            <div class="wdp-week-header">\n                                <ul class="wdp-week">\n                                    <li>').concat(this.LANG.DAYS_ABBR[1].substring(0,2),"</li>\n                                    <li>").concat(this.LANG.DAYS_ABBR[2].substring(0,2),"</li>\n                                    <li>").concat(this.LANG.DAYS_ABBR[3].substring(0,2),"</li>\n                                    <li>").concat(this.LANG.DAYS_ABBR[4].substring(0,2),"</li>\n                                    <li>").concat(this.LANG.DAYS_ABBR[5].substring(0,2),"</li>\n                                    <li>").concat(this.LANG.DAYS_ABBR[6].substring(0,2),"</li>\n                                    <li>").concat(this.LANG.DAYS_ABBR[7].substring(0,2),'</li>\n                                </ul>\n                            </div>\n                            <div class="wdp-week-body"></div>\n                        </div>\n                        <div class="wdp-list-container"></div>\n                        <div class="wdp-list-container"></div>\n                    </div>\n                </div>\n            '),this.els.dateContainer=this.el.querySelector(".wdp-date-container"),this.els.weekContainer=this.el.querySelector(".wdp-week-container"),this.els.dateSpan=this.el.querySelector(".wdp-date-container .wdp-date-header span"),this.setDateSpanText(),w.addEventListener(this.els.dateSpan,[w.MOUSE_DOWN],function(e){e.preventDefault(),t.datePage==o?t.changeDatePage(u):t.datePage==u&&t.changeDatePage(f)}),this.increaseDateValue=this.increaseDateValue.bind(this),this.decreaseDateValue=this.decreaseDateValue.bind(this),w.addEventListener(this.els.body.querySelector(".wdp-date-header > div > div:first-child > svg"),[w.MOUSE_DOWN],this.orientation?this.increaseDateValue:this.decreaseDateValue),w.addEventListener(this.els.body.querySelector(".wdp-date-header > div > div:last-child svg"),[w.MOUSE_DOWN],this.orientation?this.decreaseDateValue:this.increaseDateValue),this.els.weekBody=this.el.querySelector(".wdp-date-container .wdp-date-body .wdp-week-body"),this.renderMonth(),this.setActiveDayClass(),this.els.yearContainer=this.el.querySelector(".wdp-date-body .wdp-week-container + .wdp-list-container"),this.els.yearRangeContainer=this.el.querySelector(".wdp-date-body .wdp-list-container:last-child")}if(this.type!=v)if(this.els.hourContainer=document.createElement("div"),this.els.hourContainer.classList.add("wdp-hour-container"),this.els.hourContainer.innerHTML='\n                <div class="wdp-hour-arrow-container">\n                    <div>\n                        '.concat(this.renderUpIcon(),"\n                    </div>\n                    <div>\n                        ").concat(this.renderUpIcon(),"\n                    </div>\n                    ").concat(this.hourType==m?"<div>".concat(this.renderUpIcon(),"</div>"):"",'\n                </div>\n                <div class="wdp-hour-el-container">\n                    <input type="text" spellcheck="false" class="wdp-hour-el">\n                    <input type="text" spellcheck="false" class="wdp-hour-el">\n                    ').concat(this.hourType==m?'<input type="text" spellcheck="false" class="wdp-hour-el">':"",'\n                </div>\n                <div class="wdp-hour-arrow-container">\n                    <div>\n                        ').concat(this.renderDownIcon(),"\n                    </div>\n                    <div>\n                        ").concat(this.renderDownIcon(),"\n                    </div>\n                    ").concat(this.hourType==m?"<div>".concat(this.renderDownIcon(),"</div>"):"","\n                </div>\n            "),this.els.body.appendChild(this.els.hourContainer),this.els.hourInput=this.els.hourContainer.querySelector(".wdp-hour-el-container > input:nth-child(1)"),this.els.hourInput.value=w.renderNumber(this.value.hour||0),w.addEventListener(this.els.hourInput,["change"],this.changeHourInput.bind(this)),w.addEventListener(this.els.hourInput,["focus"],this.focusHoursInput.bind(this)),w.addEventListener(this.els.hourInput,["blur"],this.leaveHoursInput.bind(this)),w.addEventListener(this.els.hourContainer.querySelector(".wdp-hour-arrow-container > div:nth-child(1) > svg"),[w.MOUSE_DOWN],function(e){e.preventDefault(),t.orientation?t.setHour(t.value.hour+1):t.setHour(t.value.hour-1)}),w.addEventListener(this.els.hourContainer.querySelector(".wdp-hour-el-container + .wdp-hour-arrow-container > div:nth-child(1) > svg"),[w.MOUSE_DOWN],function(e){e.preventDefault(),t.orientation?t.setHour(t.value.hour-1):t.setHour(t.value.hour+1)}),this.els.minuteInput=this.els.hourContainer.querySelector(".wdp-hour-el-container > input:nth-child(2)"),this.els.minuteInput.value=w.renderNumber(this.value.minute||0),w.addEventListener(this.els.minuteInput,["change"],this.changeMinuteInput.bind(this)),w.addEventListener(this.els.minuteInput,["focus"],this.focusHoursInput.bind(this)),w.addEventListener(this.els.minuteInput,["blur"],this.leaveHoursInput.bind(this)),w.addEventListener(this.els.hourContainer.querySelector(".wdp-hour-arrow-container > div:nth-child(2) > svg"),[w.MOUSE_DOWN],function(e){e.preventDefault(),t.orientation?t.setMinute(t.value.minute+1):t.setMinute(t.value.minute-1)}),w.addEventListener(this.els.hourContainer.querySelector(".wdp-hour-el-container + .wdp-hour-arrow-container > div:nth-child(2) > svg"),[w.MOUSE_DOWN],function(e){e.preventDefault(),t.orientation?t.setMinute(t.value.minute-1):t.setMinute(t.value.minute+1)}),this.hourType==m&&(this.els.amInput=this.els.hourContainer.querySelector(".wdp-hour-el-container > input:nth-child(3)"),this.els.amInput.value=this.value.am?this.LANG.AM_PM[0]:this.LANG.AM_PM[1],w.addEventListener(this.els.amInput,["change"],this.changeAMInput.bind(this)),w.addEventListener(this.els.amInput,["focus"],this.focusHoursInput.bind(this)),w.addEventListener(this.els.amInput,["blur"],this.leaveHoursInput.bind(this)),w.addEventListener(this.els.hourContainer.querySelector(".wdp-hour-arrow-container > div:nth-child(3) > svg"),[w.MOUSE_DOWN],function(e){e.preventDefault(),t.setAM(!t.value.am)}),w.addEventListener(this.els.hourContainer.querySelector(".wdp-hour-el-container + .wdp-hour-arrow-container > div:nth-child(3) > svg"),[w.MOUSE_DOWN],function(e){e.preventDefault(),t.setAM(!t.value.am)})),this.type==p)this.page=p;else{this.els.hourContainer.classList.add("wdp-d-none"),this.els.pageToggle=this.el.querySelector(".wdp-header > div > div:first-child"),this.els.pageToggle.innerHTML='\n                    <svg width="16" height="16" viewBox="0 0 1792 1792" class="wdp-non-opaque"><path d="M192 1664h1408v-1024h-1408v1024zm384-1216v-288q0-14-9-23t-23-9h-64q-14 0-23 9t-9 23v288q0 14 9 23t23 9h64q14 0 23-9t9-23zm768 0v-288q0-14-9-23t-23-9h-64q-14 0-23 9t-9 23v288q0 14 9 23t23 9h64q14 0 23-9t9-23zm384-64v1280q0 52-38 90t-90 38h-1408q-52 0-90-38t-38-90v-1280q0-52 38-90t90-38h128v-96q0-66 47-113t113-47h64q66 0 113 47t47 113v96h384v-96q0-66 47-113t113-47h64q66 0 113 47t47 113v96h128q52 0 90 38t38 90z"></path></svg>                    \n                    <svg width="16" height="16" viewBox="0 0 1792 1792"><path d="M1024 544v448q0 14-9 23t-23 9h-320q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h224v-352q0-14 9-23t23-9h64q14 0 23 9t9 23zm416 352q0-148-73-273t-198-198-273-73-273 73-198 198-73 273 73 273 198 198 273 73 273-73 198-198 73-273zm224 0q0 209-103 385.5t-279.5 279.5-385.5 103-385.5-103-279.5-279.5-103-385.5 103-385.5 279.5-279.5 385.5-103 385.5 103 279.5 279.5 103 385.5z"></path></svg>       \n                ';for(var s=this.els.pageToggle.querySelectorAll("svg"),a=0;a<s.length;a++)w.addEventListener(s[a],[w.MOUSE_DOWN],this.changePage.bind(this))}if(this.changeInput=this.changeInput.bind(this),this.wheelHourInput=this.wheelHourInput.bind(this),this.wheelMinuteInput=this.wheelMinuteInput.bind(this),this.wheelAMInput=this.wheelAMInput.bind(this),this.setPosition=this.setPosition.bind(this),this.clickWindow=this.clickWindow.bind(this),this.open=this.open.bind(this),this.toggle=this.toggle.bind(this),this.pickerOpen=!1,this.inputToggle=i.inputToggle,this.inputEl&&(w.addEventListener(this.inputEl,["change"],this.changeInput),i.inputToggle&&w.addEventListener(this.inputEl,[w.MOUSE_DOWN],this.open)),this.setInputText(),w.addEventListener(this.els.cross,[w.MOUSE_DOWN],this.clickCross.bind(this)),this.showButtons=i.showButtons,i.showButtons){var r=document.createElement("div");r.classList.add("wdp-buttons"),r.innerHTML='\n                <a href="javascript:void(0)" tabindex="-1">'.concat(this.LANG.BUTTONS[0],'</a>\n                <a href="javascript:void(0)" tabindex="-1">').concat(this.LANG.BUTTONS[1],"</a>\n            "),w.addEventListener(r.querySelector("a:last-child"),[w.MOUSE_UP],this.save.bind(this)),w.addEventListener(r.querySelector("a:first-child"),[w.MOUSE_UP],this.cancel.bind(this)),this.els.container.appendChild(r)}this.toggleEl&&w.addEventListener(this.toggleEl,[w.MOUSE_DOWN],this.toggle)}return t(h,[{key:"extractAttributes",value:function(e){var t={};for(var i in A)void 0!==e[i]?t[i]=e[i]:t[i]=A[i];return t}},{key:"renderMonth",value:function(){this.els.weekBody.innerHTML="";var e=this.tmpValue.month,t=this.tmpValue.year,i=e-1,n=t,s=e+1,a=t;0==i?(i=12,n-=1):13==s&&(a+=s=1);var r,h=this.getWeekDay(new Date(t,e-1,1)),l=w.getDayCount(i,n),o=1,u=h-1,d=w.getDayCount(e,t),c=1,v=0,p=u,y=1,g=this.createDayCont();for(this.els.weekBody.appendChild(g);o<=u;)r=this.createDayEl(l+(o-u),i,n,!0),g.appendChild(r),o+=1;for(;c<=d;)r=this.createDayEl(c,e,t,!1),g.appendChild(r),c+=1,7==(p+=1)&&(g=this.createDayCont(),this.els.weekBody.appendChild(g),p=0,v+=1);for(;v<6;)r=this.createDayEl(y,s,a,!0),g.appendChild(r),y+=1,7==(p+=1)&&(v<5&&(g=this.createDayCont(),this.els.weekBody.appendChild(g)),p=0,v+=1)}},{key:"renderYear",value:function(){var n=this;this.els.yearContainer.innerHTML="";for(var s,a,r=this.tmpYearValue.year,h=r+1,l=1,e=function(){var e=l,t=r,i=n.LANG.MONTHS_ABBR[l];(l-1)%4==0&&((s=document.createElement("ul")).classList.add("wdp-list"),n.els.yearContainer.appendChild(s)),a=document.createElement("li"),12<l&&(e=l-12,t=h,i=n.LANG.MONTHS_ABBR[l-12],a.classList.add("wdp-muted")),a.setAttribute("date","".concat(e,"-").concat(t)),a.innerHTML=i,w.addEventListener(a,[w.MOUSE_DOWN],function(){n.tmpValue={month:e,year:t},n.changeDatePage(o)}),s.appendChild(a),l+=1};l<=16;)e()}},{key:"renderYearRange",value:function(){var t=this;this.els.yearRangeContainer.innerHTML="";for(var i,n,e=this.tmpYearRangeValue,s=(e.year,e.start),a=e.end,r=0,h=function(){var e=s+r;r%4==0&&((i=document.createElement("ul")).classList.add("wdp-list"),t.els.yearRangeContainer.appendChild(i)),(n=document.createElement("li")).innerHTML=e,a<=e&&n.classList.add("wdp-muted"),n.setAttribute("date",e),w.addEventListener(n,[w.MOUSE_DOWN],function(){t.tmpYearValue={year:e,month:0},t.changeDatePage(u)}),i.appendChild(n),r+=1};r<16;)h()}},{key:"renderUpIcon",value:function(){return this.showArrowButtons?'<svg width="1792" height="1792" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1600 736v192q0 40-28 68t-68 28h-416v416q0 40-28 68t-68 28h-192q-40 0-68-28t-28-68v-416h-416q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h416v-416q0-40 28-68t68-28h192q40 0 68 28t28 68v416h416q40 0 68 28t28 68z"/></svg>':'<svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1395 1184q0 13-10 23l-50 50q-10 10-23 10t-23-10l-393-393-393 393q-10 10-23 10t-23-10l-50-50q-10-10-10-23t10-23l466-466q10-10 23-10t23 10l466 466q10 10 10 23z"></path></svg>'}},{key:"renderDownIcon",value:function(){return this.showArrowButtons?'<svg width="1792" height="1792" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1600 736v192q0 40-28 68t-68 28h-1216q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h1216q40 0 68 28t28 68z"/></svg>':'<svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1395 736q0 13-10 23l-466 466q-10 10-23 10t-23-10l-466-466q-10-10-10-23t10-23l50-50q10-10 23-10t23 10l393 393 393-393q10-10 23-10t23 10l50 50q10 10 10 23z"></path></svg>'}},{key:"changeInput",value:function(){var e,t=this.value;try{if(!this.inputEl.value.trim()&&this.allowEmpty)this.setEmptyValue();else{if(void 0!==(e=this.setValue(this.inputEl.value)).day&&isNaN(e.day)||void 0!==e.hour&&isNaN(e.hour))throw null;this.value=e}this.initialValue=d({},this.value),this.resetDatePage()}catch(e){this.setInvalidValue(),this.initialValue=d({},this.value),this.setActiveDayClass(),this.setInputText()}finally{this.resetHourPage(),this.setSpanText(),this.value.value!=t.value&&this.el.dispatchEvent(a)}}},{key:"changeHourInput",value:function(){var e=parseInt(this.els.hourInput.value);isNaN(e)?this.els.hourInput.value=w.renderNumber(this.value.hour):e!=this.value.hour&&this.setHour(e,!1)}},{key:"changeMinuteInput",value:function(){var e=parseInt(this.els.minuteInput.value);isNaN(e)?this.els.minuteInput.value=w.renderNumber(this.value.minute):e!=this.value.minute&&this.setMinute(e,!1)}},{key:"changeAMInput",value:function(){var e=(this.els.amInput.value||"").toUpperCase();e==this.LANG.AM_PM[1]&&this.value.am?this.setAM(!1):e!=this.LANG.AM_PM[0]||this.value.am?this.els.amInput.value=this.value.am?this.LANG.AM_PM[0]:this.LANG.AM_PM[1]:this.setAM(!0)}},{key:"changePage",value:function(){this.page==v?(this.page=p,w.removeClass(this.els.pageToggle.querySelector("svg:first-child"),"wdp-non-opaque"),w.addClass(this.els.pageToggle.querySelector("svg:last-child"),"wdp-non-opaque"),this.setPageAnimation(this.els.dateContainer,this.els.hourContainer,"in","out")):(this.page=v,w.addClass(this.els.pageToggle.querySelector("svg:first-child"),"wdp-non-opaque"),w.removeClass(this.els.pageToggle.querySelector("svg:last-child"),"wdp-non-opaque"),this.setPageAnimation(this.els.hourContainer,this.els.dateContainer,"out-rev","in-rev"))}},{key:"changeDatePage",value:function(e){var t,i,n,s,a=this,r=this.datePage;t=r==o?this.els.weekContainer:r==u?this.els.yearContainer:this.els.yearRangeContainer,this.datePage=e,setTimeout(function(){a.setDateSpanText()},125),e==o?(i=this.els.weekContainer,this.renderMonth(),this.setActiveDayClass()):e==u?(i=this.els.yearContainer,r==o&&(this.tmpYearValue={year:this.tmpValue.year,month:this.tmpValue.month}),this.renderYear(),this.setActiveMonthClass()):(i=this.els.yearRangeContainer,r==u&&(this.tmpYearRangeValue=d({year:this.tmpYearValue.year},w.getStartEndYear(this.tmpYearValue.year))),this.renderYearRange(),this.setActiveYearClass()),r==o&&e==u||r==u&&e==f?(n="in",s="out"):(r==u&&e==o||r==f&&e==u)&&(n="out-rev",s="in-rev"),this.setPageAnimation(t,i,n,s)}},{key:"focusHoursInput",value:function(e){e.target==this.els.hourInput?w.addEventListener(document,w.WHEEL_EVENTS,this.wheelHourInput):e.target==this.els.minuteInput?w.addEventListener(document,w.WHEEL_EVENTS,this.wheelMinuteInput):e.target==this.els.amInput&&w.addEventListener(document,w.WHEEL_EVENTS,this.wheelAMInput)}},{key:"leaveHoursInput",value:function(e){e.target==this.els.hourInput?w.removeEventListener(document,w.WHEEL_EVENTS,this.wheelHourInput):e.target==this.els.minuteInput?w.removeEventListener(document,w.WHEEL_EVENTS,this.wheelMinuteInput):e.target==this.els.amInput&&w.removeEventListener(document,w.WHEEL_EVENTS,this.wheelAMInput)}},{key:"resetDate",value:function(){if(this.type!=p&&-1==this.value.day){var e=new Date;this.setDay(e.getDate(),e.getMonth()+1,e.getFullYear(),!1)}}},{key:"resetDatePage",value:function(){if(this.type!=p){if(this.datePage=o,0<this.value.day)this.tmpValue={month:this.value.month,year:this.value.year};else{var e=new Date;this.tmpValue={month:e.getMonth()+1,year:e.getFullYear()}}this.renderMonth(),this.setActiveDayClass(),this.setDateSpanText(),this.els.weekContainer.classList.remove("wdp-d-none"),this.els.yearContainer.classList.add("wdp-d-none"),this.els.yearContainer.innerHTML="",this.els.yearRangeContainer.classList.add("wdp-d-none"),this.els.yearRangeContainer.innerHTML=""}}},{key:"resetHourPage",value:function(){this.type!=v&&(this.els.hourInput.value=w.renderNumber(this.value.hour||""),this.els.minuteInput.value=w.renderNumber(this.value.minute||""),this.hourType==m&&(this.els.amInput.value=this.value.am?this.LANG.AM_PM[0]:this.LANG.AM_PM[1]))}},{key:"wheelHourInput",value:function(e){var t=(e.deltaY||-e.wheelDelta||e.detail)>>10||1;this.orientation&&(t=~t),t<0?this.setHour(this.value.hour-1):this.setHour(this.value.hour+1)}},{key:"wheelMinuteInput",value:function(e){var t=(e.deltaY||-e.wheelDelta||e.detail)>>10||1;this.orientation&&(t=~t),t<0?this.setMinute(this.value.minute-1):this.setMinute(this.value.minute+1)}},{key:"wheelAMInput",value:function(){this.setAM(!this.value.am)}},{key:"get",value:function(){return this.value}},{key:"getValueText",value:function(e){var t="";if(this.type!=p&&(t=this.dateType==g?"".concat(w.renderNumber(e.day),"/").concat(w.renderNumber(e.month),"/").concat(e.year):"".concat(w.renderNumber(e.month),"/").concat(w.renderNumber(e.day),"/").concat(e.year)),this.type!=v){var i="";this.hourType==m&&(i=e.am?" ".concat(this.LANG.AM_PM[0]):" ".concat(this.LANG.AM_PM[1])),this.type==y?t+=" ":t="",t+="".concat(w.renderNumber(e.hour),":").concat(w.renderNumber(e.minute)).concat(i)}return t}},{key:"getWeekDay",value:function(e){var t=e.getDay();return 0==t?7:t}},{key:"set",value:function(e){null!=e&&""!=e||!this.allowEmpty?this.value=this.setValue(e):this.setEmptyValue(),this.initialValue=d({},this.value),this.resetDatePage(),this.resetHourPage(),this.setSpanText(),this.setInputText()}},{key:"setValue",value:function(e){var t,i={};if("string"==typeof e){var n="1970-01-01",s="00:00";if(this.type!=p)(a=e.replace(/\//g,"-").split("-"))[2]=a[2].split(" ")[0],a=this.dateType==g?[a[2],a[1],a[0]]:[a[2],a[0],a[1]],n="".concat(w.renderNumber(a[0],4),"-").concat(w.renderNumber(a[1]),"-").concat(w.renderNumber(a[2]));if(this.type!=v){var a=e.split(" ");this.type==y&&a.shift();var r=c(a[0].split(":"),2),h=r[0],l=r[1];this.hourType==m&&(a[1]==this.LANG.AM_PM[1]&&"12"!=h?h=(parseInt(h)+12).toString():a[1]==this.LANG.AM_PM[0]&&"12"==h&&(h="0")),s="".concat(w.renderNumber(h),":").concat(w.renderNumber(l))}t=new Date(n);var o=new Date("1970-01-01T".concat(s,"Z"));o.setMinutes(o.getTimezoneOffset()+o.getMinutes()),t.setHours(o.getHours()),t.setMinutes(o.getMinutes())}else t="number"==typeof e?new Date(e):e;if(this.type!=p){var u=this.getWeekDay(t);i={day:t.getDate(),weekDay:u,month:t.getMonth()+1,year:t.getFullYear()}}return this.type!=v&&(i=d({},i,{hour:t.getHours(),minute:t.getMinutes()}),this.hourType==m&&(11<i.hour?(i.hour=12!=i.hour?i.hour-12:12,i.am=!1):(i.hour=0==i.hour?12:i.hour,i.am=!0))),i.value=this.getValueText(i),i}},{key:"setEmptyValue",value:function(){this.value={value:"",day:0,month:0,year:0}}},{key:"setInvalidValue",value:function(){this.value={value:this.LANG.INVALID_DATE,day:-1,month:-1,year:-1}}},{key:"setDay",value:function(e,t,i){var n=!(3<arguments.length&&void 0!==arguments[3])||arguments[3];this.type!=v&&n&&(this.value.hour||this.setHour(NaN,!0,!1));var s=this.getWeekDay(new Date(i,t-1,e));this.value=d({},this.value,{day:e,weekDay:s,month:t,year:i}),this.setActiveDayClass(),n&&(this.value.value=this.getValueText(this.value),this.setSpanText(),this.setInputText(),this.el.dispatchEvent(a))}},{key:"setActiveDayClass",value:function(){if(this.type!=p){var e=this.els.weekBody.querySelector(".wdp-week > li.wdp-active"),t=this.els.weekBody.querySelector('.wdp-week > li[date="'.concat(this.value.day,"-").concat(this.value.month,"-").concat(this.value.year,'"]'));e&&e.classList.remove("wdp-active"),t&&t.classList.add("wdp-active")}}},{key:"setTmpMonth",value:function(e,t){this.tmpValue={month:e,year:t},this.renderMonth(),this.setDateSpanText(),this.setActiveDayClass()}},{key:"setTmpYear",value:function(e){this.tmpYearValue.year=e,this.renderYear(),this.setDateSpanText(),this.setActiveMonthClass()}},{key:"setActiveMonthClass",value:function(){var e=this.els.yearContainer.querySelector(".wdp-list > li.wdp-active"),t=this.els.yearContainer.querySelector('.wdp-list > li[date="'.concat(this.tmpValue.month,"-").concat(this.tmpValue.year,'"]'));e&&e.classList.remove("wdp-active"),t&&t.classList.add("wdp-active")}},{key:"setTmpYearRange",value:function(e){this.tmpYearRangeValue.start=e,this.tmpYearRangeValue.end=e+10,this.renderYearRange(),this.setDateSpanText(),this.setActiveYearClass()}},{key:"setActiveYearClass",value:function(){var e=this.els.yearRangeContainer.querySelector(".wdp-list > li.wdp-active"),t=this.els.yearRangeContainer.querySelector('.wdp-list > li[date="'.concat(this.tmpYearValue.year,'"]'));e&&e.classList.remove("wdp-active"),t&&t.classList.add("wdp-active")}},{key:"setHour",value:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],i=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];this.resetDate(),isNaN(e)&&(e=12,this.setMinute(0,!0,!1),this.hourType==m&&this.setAM(!0,!0,!1));var n=e;this.hourType==m?e<=0?(e=12,this.setAM(!this.value.am,!0,!1)):13<=e&&(e=1,this.setAM(!this.value.am,!0,!1)):e<=-1?e=23:24<=e&&(e=0),this.value.hour=e,(t||!t&&n!=this.value.hour)&&(this.els.hourInput.value=w.renderNumber(e)),i&&(this.value.value=this.getValueText(this.value),this.setSpanText(),this.setInputText(),this.el.dispatchEvent(a))}},{key:"setMinute",value:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],i=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];this.resetDate(),isNaN(e)&&(e=0,this.setHour(0,!0,!1),this.hourType==m&&this.setAM(!0,!0,!1));var n=e;e<=-1?(e=59,this.setHour(this.value.hour-1,!0,!1)):60<=e&&(e=0,this.setHour(this.value.hour+1,!0,!1)),this.value.minute=e,(t||!t&&n!=this.value.minute)&&(this.els.minuteInput.value=w.renderNumber(e)),i&&(this.value.value=this.getValueText(this.value),this.setSpanText(),this.setInputText(),this.el.dispatchEvent(a))}},{key:"setAM",value:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],i=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];this.resetDate(),this.value.hour||(this.setHour(12,!0,!1),this.setMinute(0,!0,!1)),this.value.am=e,t&&(this.els.amInput.value=this.value.am?this.LANG.AM_PM[0]:this.LANG.AM_PM[1]),i&&(this.value.value=this.getValueText(this.value),this.setSpanText(),this.setInputText(),this.el.dispatchEvent(a))}},{key:"setInputText",value:function(){this.inputEl&&(this.inputEl.value=this.value.value)}},{key:"setSpanText",value:function(){var e=this.value;if(""==e.value&&this.type!=p)this.els.span.innerHTML="";else if(-1==e.day&&this.type!=p)this.els.span.innerHTML=this.LANG.INVALID_DATE;else{if(this.type==p){var t=new Date,i=this.getWeekDay(t);e={day:t.getDate(),weekDay:i,month:t.getMonth()+1,year:t.getFullYear()}}this.els.span.innerHTML="".concat(this.LANG.DAYS_ABBR[e.weekDay],", ").concat(e.day," ").concat(this.LANG.MONTHS_ABBR[e.month]," ").concat(e.year)}}},{key:"setDateSpanText",value:function(){var e;e=this.datePage==o?"".concat(this.LANG.MONTHS[this.tmpValue.month]," ").concat(this.tmpValue.year):this.datePage==u?this.tmpYearValue.year:"".concat(this.tmpYearRangeValue.start," - ").concat(this.tmpYearRangeValue.end),this.els.dateSpan.innerHTML=e}},{key:"setPageAnimation",value:function(e,t,i,n){e.classList.add("wdp-animation-fade-".concat(i)),w.addEventListenerOnce(e,w.ANIMATION_END,function(){e.classList.add("wdp-d-none"),e.classList.remove("wdp-animation-fade-".concat(i)),t.classList.remove("wdp-d-none");t.offsetHeight;t.classList.add("wdp-animation-fade-".concat(n)),w.addEventListenerOnce(t,w.ANIMATION_END,function(){t.classList.remove("wdp-animation-fade-".concat(n))})})}},{key:"setPosition",value:function(){var e=this.parentEl.getBoundingClientRect(),t=this.el.offsetWidth,i=this.el.offsetHeight,n=e.left+t,s=e.left-t,a=e.top+e.height+i,r=e.top-i,h=window.innerWidth,l=window.innerHeight;this.el.style.left=h<=n&&0<s?e.left+e.width-t+"px":e.left+"px",this.el.style.top=l<=a&&0<r?e.top-i+"px":e.top+e.height+"px"}},{key:"increaseDateValue",value:function(e){if(e.preventDefault(),this.datePage==o){var t=this.tmpValue,i=t.month,n=t.year;12==i?n+=i=1:i+=1,this.setTmpMonth(i,n)}else if(this.datePage==u){n=this.tmpYearValue.year;this.setTmpYear(n+1)}else{var s=this.tmpYearRangeValue.start;this.setTmpYearRange(s+10)}}},{key:"decreaseDateValue",value:function(e){if(e.preventDefault(),this.datePage==o){var t=this.tmpValue,i=t.month,n=t.year;1==i?(i=12,n-=1):i-=1,this.setTmpMonth(i,n)}else if(this.datePage==u){n=this.tmpYearValue.year;this.setTmpYear(n-1)}else{var s=this.tmpYearRangeValue.start;this.setTmpYearRange(s-10)}}},{key:"createDayCont",value:function(){var e=document.createElement("ul");return e.classList.add("wdp-week"),e}},{key:"createDayEl",value:function(e,t,i,n){var s=this,a=document.createElement("li");return a.setAttribute("date","".concat(e,"-").concat(t,"-").concat(i)),n&&a.classList.add("wdp-muted"),a.innerHTML=e,w.addEventListener(a,[w.MOUSE_DOWN],function(){s.setDay(e,t,i)}),a}},{key:"clickWindow",value:function(e){try{if(this.el==e.target||w.contains(this.el,e.target))throw null;if(this.toggleEl&&(this.toggleEl==e.target||w.contains(this.toggleEl,e.target)))throw null;if(this.inputToggle&&this.inputEl&&(this.inputEl==e.target||w.contains(this.inputEl,e.target)))throw null;this.close()}catch(e){}}},{key:"clickCross",value:function(){this.showButtons?this.cancel():this.close()}},{key:"isOpen",value:function(){return this.pickerOpen}},{key:"open",value:function(){var e=this;if(!this.isOpen()){this.toggleEl&&w.addClass(this.toggleEl,"wdp-active"),this.el.classList.add("wdp-active");this.el.offsetHeight;this.setPosition(),this.els.container.classList.add("wdp-active"),w.addEventListenerOnce(this.els.container,w.TRANSITION_END,function(){w.addEventListener(window,["resize","scroll"],e.setPosition),e.pickerOpen=!0,e.el.dispatchEvent(i),e.showButtons||w.addEventListener(document,[w.MOUSE_DOWN],e.clickWindow)})}}},{key:"close",value:function(){this.isOpen()&&(this.toggleEl&&w.removeClass(this.toggleEl,"wdp-active"),this.els.container.classList.remove("wdp-active"),this.el.classList.remove("wdp-active"),w.removeEventListener(window,["resize","scroll"],this.setPosition),this.pickerOpen=!1,this.el.dispatchEvent(e),this.showButtons&&w.removeEventListener(document,[w.MOUSE_DOWN],this.clickWindow))}},{key:"toggle",value:function(){this.isOpen()?this.close():this.open()}},{key:"save",value:function(){this.initialValue=d({},this.value),this.el.dispatchEvent(s),this.close()}},{key:"cancel",value:function(){this.value=d({},this.initialValue),this.el.dispatchEvent(r),this.close(),this.resetDatePage(),this.resetHourPage(),this.setSpanText(),this.setInputText()}},{key:"destroy",value:function(){this.isOpen()&&(w.removeEventListener(window,["resize","scroll"],this.setPosition),this.showButtons&&w.removeEventListener(document,[w.MOUSE_DOWN],this.clickWindow)),this.inputEl&&(w.removeEventListener(this.inputEl,["change"],this.changeInput),this.inputToggle&&w.removeEventListener(this.inputEl,[w.MOUSE_DOWN],this.open)),this.toggleEl&&w.removeEventListener(this.toggleEl,[w.MOUSE_DOWN],this.toggle),this.el.innerHTML="",this.el.classList.remove("wdp"),this.el.dispatchEvent(D)}}],[{key:"createLanguage",value:function(e,t){this.LANG[e]=t}}]),h}();return h.LANG={},h.createLanguage("en",{DAYS_ABBR:["","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],MONTHS:["","January","February","March","April","May","June","July","August","September","October","November","December"],MONTHS_ABBR:["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],AM_PM:["AM","PM"],BUTTONS:["CANCEL","OK"],INVALID_DATE:"Invalid Date"}),h});